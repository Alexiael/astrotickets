---
const { title = "AstroTickets – Galactic Force Fest" } = Astro.props;
import "../styles/global.css";
---

<!doctype html>
<html lang="es" class="text-(--color-text-primary)">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
  </head>

  <body class="min-h-screen flex flex-col relative">

    <!-- Fondo estrellado global -->
    <div class="starfield"></div>

    <!-- HEADER -->
    <header
      class="sticky top-0 z-50
             border-b border-(--color-border-accent)
             bg-black/80 backdrop-blur"
    >
      <nav
        class="max-w-6xl mx-auto px-4 py-3
               flex items-center justify-between"
      >
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2">
          <span
            class="h-8 w-8 rounded-full border
                   border-(--color-border-accent)
                   flex items-center justify-center
                   text-xs tracking-[0.2em]
                   text-(--color-accent)"
          >
            SW
          </span>

          <span
            class="font-semibold tracking-[0.2em] uppercase text-sm
                   text-(--color-accent)"
          >
            AstroTickets
          </span>
        </a>

        <!-- MENÚ -->
        <ul
          id="mobile-menu"
          class="hidden
                 absolute top-full left-0 w-full
                 flex-col gap-4 px-6 py-6
                 bg-black/95 backdrop-blur
                 border-b border-(--color-border-accent)
                 text-sm tracking-wide
                 md:static md:flex md:flex-row md:gap-6
                 md:w-auto md:p-0 md:bg-transparent md:border-none"
        >
          <li><a href="/events" class="hover:text-(--color-accent-soft)">Entradas</a></li>
          <li><a href="/merch" class="hover:text-(--color-accent-soft)">Tienda</a></li>
          <li><a href="/dashboard" class="hover:text-(--color-accent-soft)">Dashboard</a></li>
          <li><a href="/community" class="hover:text-(--color-accent-soft)">Comunidad</a></li>
          <li><a href="/location" class="hover:text-(--color-accent-soft)">Ubicación</a></li>
          <li><a href="/about" class="hover:text-(--color-accent-soft)">Sobre nosotros</a></li>
          <li><a href="/contact" class="hover:text-(--color-accent-soft)">Contacto</a></li>
        </ul>

        <!-- BOTÓN MÓVIL -->
        <button
          id="menu-toggle"
          aria-label="Abrir menú"
          aria-expanded="false"
          class="md:hidden border
                 border-(--color-border-accent)
                 px-3 py-1 rounded
                 text-xs tracking-wide
                 text-(--color-accent)
                 hover:bg-(--color-accent)/10
                 transition"
        >
          Menú
        </button>
      </nav>
    </header>

    <!-- MAIN -->
    <main class="relative z-10 flex-1">
      <slot />
    </main>

    <!-- FOOTER -->
    <footer
      class="relative z-10 mt-8
             border-t border-(--color-border-accent)
             bg-black/80"
    >
      <div
        class="max-w-6xl mx-auto px-4 py-6 text-xs
               text-(--color-text-muted)
               flex flex-col md:flex-row gap-2
               md:items-center md:justify-between"
      >
        <p>© {new Date().getFullYear()} AstroTickets – Galactic Force Fest.</p>
        <p class="text-(--color-text-muted)">
          “La creatividad es la inteligencia divirtiéndose” – versión galáctica.
        </p>
      </div>
    </footer>

    <!-- SCRIPT MENÚ MÓVIL -->
    <script is:inline>
      const toggle = document.getElementById("menu-toggle");
      const menu = document.getElementById("mobile-menu");

      if (toggle && menu) {
        toggle.addEventListener("click", () => {
          const isOpen = !menu.classList.contains("hidden");
          menu.classList.toggle("hidden");
          toggle.setAttribute("aria-expanded", String(!isOpen));
        });
      }
    </script>

  </body>
</html>
